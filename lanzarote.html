<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lanzarote Tourist Guide</title>
<style>
  body { font-family: Arial, sans-serif; font-size: 1rem; background-color: #333; color: white; }
  .container { width: 95%; margin: auto; text-align: center; }
  .header { display: flex; justify-content: space-between; padding: 10px; font-size: 1.2em; }
  .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 10px; }
.place-item {
  background-color: #f0f0f0;
  min-height: 280px; /* Adjust based on your content */
  color: black;
  padding: 15px;
  border-radius: 5px;
  flex: 1 1 250px; /* Adjusts the basis width and allows flex-grow */
  display: flex;
  flex-direction: column;
  justify-content: space-between; /* This ensures that the footer is always at the bottom */
}

  .place-item h2 {
    margin-top: 0;
    font-size: 1.2em; /* Adjusted font size */
    height: 3em; /* Fixed height to accommodate two lines */
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
  }

  /* Media Query for Smaller Screens */
  @media screen and (max-width: 320px) {
    .place-item h2 {
      font-size: 1em; /* Smaller font size for watch screens */
    }
  }
}
  .place-item p { font-size: 0.9em; }
  .link-button { 
    display: block; 
    margin-bottom: 10px; 
    padding: 12px; 
    background-color: #007bff; 
    color: white; 
    text-decoration: none; 
    border-radius: 5px; 
    text-align: center;
    min-height: 48px;
  }

      footer {
    text-align: center;
    padding: 20px 0;
    font-size: 0.8em;
    background-color: #222;
    color: #aaa;
    margin-top: 20px;
  }
  
</style>
<script>

function applyDayNightTheme() {
  const hour = new Date().getHours();
  const isDayTime = hour > 6 && hour < 18;

  const body = document.body;
  const header = document.querySelector('.header');
  const grid = document.querySelector('.grid');

  if (isDayTime) {
    body.style.backgroundColor = '#fff'; // Light background for day
    body.style.color = '#333'; // Dark text for day
    header.style.backgroundColor = '#f0f0f0';
    grid.style.backgroundColor = '#f0f0f0';
  } else {
    body.style.backgroundColor = '#333'; // Dark background for night
    body.style.color = '#fff'; // Light text for night
    header.style.backgroundColor = '#444';
    grid.style.backgroundColor = '#444';
  }
}

document.addEventListener('DOMContentLoaded', function() {
  applyDayNightTheme();
  setInterval(applyDayNightTheme, 3600000); // Update every hour

  // ... rest of your existing code ...
});


function updatePlacesList() {
  const grid = document.querySelector('.grid');
  grid.innerHTML = '';
  places.forEach(place => {
    const distance = getDistanceFromLatLonInKm(userLat, userLng, place.lat, place.lng).toFixed(2);
    place.element.className = 'place-item';
    place.element.innerHTML = `
      <h2>${place.name}</h2>
      <p>${place.description}</p>
      <p><strong>${distance} km away</strong></p>
      <a href="https://www.google.com/maps/@${place.lat},${place.lng},17z?entry=ttu" class="link-button">Google Maps</a>
      <a href="#" class="link-button">Photo Album</a>
    `;
    grid.appendChild(place.element);
  });
}


document.addEventListener('DOMContentLoaded', function() {
  const places = [
{
  name: 'Timanfaya National Park',
  description: 'A unique volcanic landscape offering guided tours.',
  lat: 29.0038,
  lng: -13.7537,
  element: document.createElement('div')
},
{
  name: 'Jameos Del Agua',
  description: 'A natural cave and underground lake transformed into a cultural center.',
  lat: 29.1580,
  lng: -13.4339,
  element: document.createElement('div')
},
{
  name: 'Cueva de los Verdes',
  description: 'A part of a massive lava tube offering guided cave tours.',
  lat: 29.1570,
  lng: -13.4380,
  element: document.createElement('div')
},
{
  name: 'Mirador del Río',
  description: 'A viewpoint offering spectacular views of the sea and neighboring islands.',
  lat: 29.2208,
  lng: -13.4808,
  element: document.createElement('div')
},
{
  name: 'Fundación César Manrique',
  description: 'A foundation in the artist César Manrique’s former home showcasing his works.',
  lat: 29.0458,
  lng: -13.5648,
  element: document.createElement('div')
},
{
  name: 'Playa de Papagayo',
  description: 'A series of pristine beaches with crystal-clear waters.',
  lat: 28.8599,
  lng: -13.7913,
  element: document.createElement('div')
},
{
  name: 'Lagomar Museum',
  description: 'A museum and art gallery set in a unique architectural space.',
  lat: 29.0667,
  lng: -13.5569,
  element: document.createElement('div')
},
{
  name: 'Jardín de Cactus',
  description: 'A garden featuring over 1,000 cactus species, designed by César Manrique.',
  lat: 29.0704,
  lng: -13.4870,
  element: document.createElement('div')
},
{
  name: 'Los Hervideros',
  description: 'Cliffs and caves formed by volcanic activity, offering dramatic ocean views.',
  lat: 28.9590,
  lng: -13.8270,
  element: document.createElement('div')
},
{
  name: 'Museo Atlántico',
  description: 'An underwater sculpture museum, accessible by diving.',
  lat: 28.8590,
  lng: -13.7910,
  element: document.createElement('div')
},
{
  name: 'Rancho Texas Lanzarote Park',
  description: 'A theme park with animal encounters, pools, and a water park.',
  lat: 28.9185,
  lng: -13.6675,
  element: document.createElement('div')
},
{
  name: 'Casa / Museo César Manrique',
  description: 'The house and studio of artist César Manrique, now a museum.',
  lat: 29.1215,
  lng: -13.5645,
  element: document.createElement('div')
},
{
  name: 'Castillo de San Gabriel',
  description: 'An old castle and museum showcasing the history of Lanzarote.',
  lat: 28.9608,
  lng: -13.5475,
  element: document.createElement('div')
},
{
  name: 'Castillo de Santa Bárbara',
  description: 'A historic castle turned into a pirate museum.',
  lat: 29.0600,
  lng: -13.5470,
  element: document.createElement('div')
},
{
  name: 'Parque Nacional de Timanfaya',
  description: 'A national park known for its moon-like volcanic landscape.',
  lat: 29.0029,
  lng: -13.7534,
  element: document.createElement('div')
},
{
  name: 'Salinas de Janubio',
  description: 'Historic salt flats offering scenic views and a glimpse into traditional salt production.',
  lat: 28.9520,
  lng: -13.8330,
  element: document.createElement('div')
},
{
  name: 'El Golfo',
  description: 'A picturesque green lagoon set in a volcanic crater.',
  lat: 28.9630,
  lng: -13.8320,
  element: document.createElement('div')
},
{
  name: 'Montañas del Fuego',
  description: 'Volcanic mountains offering guided tours and demonstrations of geothermal activity.',
  lat: 29.0059,
  lng: -13.7575,
  element: document.createElement('div')
},
{
  name: 'AquaLava Waterpark',
  description: 'A fun-filled water park with slides and pools for all ages.',
  lat: 28.9236,
  lng: -13.6604,
  element: document.createElement('div')
},
{
  name: 'Bodega La Geria',
  description: 'A winery offering tours and tastings in a unique volcanic landscape.',
  lat: 28.9618,
  lng: -13.7330,
  element: document.createElement('div')
},
{
  name: 'Museo Agrícola El Patio',
  description: 'A museum dedicated to the agricultural history of Lanzarote.',
  lat: 29.0601,
  lng: -13.6401,
  element: document.createElement('div')
},
{
  name: 'Museo Internacional de Arte Contemporáneo',
  description: 'A contemporary art museum located in an old fortress.',
  lat: 28.9670,
  lng: -13.5450,
  element: document.createElement('div')
},
{
  name: 'Museo de la Piratería',
  description: 'A museum dedicated to the history of piracy in the Canary Islands.',
  lat: 29.0600,
  lng: -13.5470,
  element: document.createElement('div')
},
{
  name: 'Museo Aeronáutico del Aeropuerto de Lanzarote',
  description: 'An aeronautical museum showcasing the history of aviation in Lanzarote.',
  lat: 28.9452,
  lng: -13.6052,
  element: document.createElement('div')
},
{
  name: 'Museo Tanit',
  description: 'A museum dedicated to the ethnographic and cultural history of the island.',
  lat: 29.0723,
  lng: -13.6415,
  element: document.createElement('div')
},
{
  name: 'Museo Etnográfico de Lanzarote',
  description: 'An ethnographic museum exploring the traditional life and customs of Lanzarote.',
  lat: 29.0605,
  lng: -13.5335,
  element: document.createElement('div')
},
{
  name: 'Monumento al Campesino',
  description: 'A monument dedicated to the farmers of Lanzarote, created by César Manrique.',
  lat: 29.0420,
  lng: -13.6050,
  element: document.createElement('div')
},
{
  name: 'La Geria',
  description: 'A unique wine-producing region with a distinctive landscape shaped by volcanic activity.',
  lat: 28.9610,
  lng: -13.7320,
  element: document.createElement('div')
},
{
  name: 'Playa Blanca',
  description: 'A popular beach resort area with white sandy beaches and clear waters.',
  lat: 28.8593,
  lng: -13.8332,
  element: document.createElement('div')
},
{
  name: 'Los Charcones',
  description: 'Natural pools formed in volcanic rock, offering a unique swimming experience.',
  lat: 28.8620,
  lng: -13.8360,
  element: document.createElement('div')
},
{
  name: 'Famara Beach',
  description: 'A stunning and expansive beach, popular for surfing and kiteboarding.',
  lat: 29.1160,
  lng: -13.5640,
  element: document.createElement('div')
},
{
  name: 'Teguise Market',
  description: 'A lively market held in the old town of Teguise, offering local crafts and produce.',
  lat: 29.0608,
  lng: -13.5560,
  element: document.createElement('div')
},
{
  name: 'Cesar Manrique Foundation',
  description: 'A foundation showcasing the works and home of the famous artist Cesar Manrique.',
  lat: 29.0458,
  lng: -13.5648,
  element: document.createElement('div')
},
{
  name: 'Guinate Tropical Park',
  description: 'A park featuring exotic birds, animals, and plants, set in a tropical landscape.',
  lat: 29.2140,
  lng: -13.4760,
  element: document.createElement('div')
},
{
  name: 'Punta Mujeres',
  description: 'A charming coastal village known for its natural sea pools and tranquil atmosphere.',
  lat: 29.1570,
  lng: -13.4420,
  element: document.createElement('div')
},
{
  name: 'Orzola',
  description: 'A picturesque fishing village with beautiful beaches and seafood restaurants.',
  lat: 29.2140,
  lng: -13.4390,
  element: document.createElement('div')
},
 /*   {
      name: 'Praha',
      description: 'Charming town with historic architecture and beautiful gardens.',
      lat: 50.0755,
      lng: 14.4378,
      element: document.createElement('div')
    }    */
   

    // Add more places here

  ];

   // New function to initialize place items
  function initializePlacesList() {
    const grid = document.querySelector('.grid');
    places.forEach(place => {
      place.element.className = 'place-item';
      place.element.innerHTML = `
        <h2>${place.name}</h2>
        <p>${place.description}</p>
        <a href="https://www.google.com/maps/@${place.lat},${place.lng},17z?entry=ttu" class="link-button">Google Maps</a>
        
      `;
      grid.appendChild(place.element);
    });
  }

  // Call the initialization function
  initializePlacesList();

let userLat, userLng;

function sortPlacesByProximity(position) {
  userLat = position.coords.latitude;
  userLng = position.coords.longitude;
    updateCoordinates(position);
  }

function sortPlacesByProximity(position) {
  userLat = position.coords.latitude;
  userLng = position.coords.longitude;
  places.sort((a, b) => {
    const distanceA = getDistanceFromLatLonInKm(userLat, userLng, a.lat, a.lng);
    const distanceB = getDistanceFromLatLonInKm(userLat, userLng, b.lat, b.lng);
    return distanceA - distanceB;
  });
  updatePlacesList();
}

  function getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {
    var R = 6371; // Radius of the earth in km
    var dLat = deg2rad(lat2-lat1);
    var dLon = deg2rad(lon2-lon1); 
    var a = 
      Math.sin(dLat/2) * Math.sin(dLat/2) +
      Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * 
      Math.sin(dLon/2) * Math.sin(dLon/2);
    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
    var d = R * c; // Distance in km
    return d;
  }

  function deg2rad(deg) {
    return deg * (Math.PI/180);
  }

function updatePlacesList() {
  const grid = document.querySelector('.grid');
  grid.innerHTML = '';
  places.forEach(place => {
    const distance = getDistanceFromLatLonInKm(userLat, userLng, place.lat, place.lng).toFixed(2);
    place.element.className = 'place-item';
    place.element.innerHTML = `
      <h3>${place.name}</h3>
      <p>${place.description}</p>
      <a href="https://www.google.com/maps/@${place.lat},${place.lng},17z?entry=ttu" class="link-button">Google Maps<br>${distance} km</a>
      
    `;
    grid.appendChild(place.element);
  });
}

  function updateTime() {
    const now = new Date();
    document.getElementById('time').textContent = now.toLocaleTimeString();
  }

  function updateCoordinates(position) {
    document.getElementById('coordinates').textContent = `Lat: ${position.coords.latitude.toFixed(2)}, Lon: ${position.coords.longitude.toFixed(2)}`;
  }

  setInterval(updateTime, 1000);

  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(sortPlacesByProximity);
  } else {
    console.log("Geolocation is not supported by this browser.");
  }
});
</script>
</head>
<body>
<div class="container">
  <div class="header">
    <div id="time"></div>
    <div id="coordinates"></div>
  </div>
  <h1>Welcome to the Lanzarote Tourist Guide</h1>
  <div class="grid">
    <!-- Place items will be dynamically added here -->
  </div>
</div>
<footer>
    Author: Pavel K.
</footer>
</body>
</html>
