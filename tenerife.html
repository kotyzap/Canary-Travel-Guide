<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tenerife Tourist Guide</title>
<style>
  body { font-family: Arial, sans-serif; font-size: 1rem; background-color: #333; color: white; }
  .container { width: 95%; margin: auto; text-align: center; }
  .header { display: flex; justify-content: space-between; padding: 10px; font-size: 1.2em; }
  .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 10px; }
.place-item {
  background-color: #f0f0f0;
  min-height: 280px; /* Adjust based on your content */
  color: black;
  padding: 15px;
  border-radius: 5px;
  flex: 1 1 250px; /* Adjusts the basis width and allows flex-grow */
  display: flex;
  flex-direction: column;
  justify-content: space-between; /* This ensures that the footer is always at the bottom */
}

  .place-item h2 {
    margin-top: 0;
    font-size: 1.2em; /* Adjusted font size */
    height: 3em; /* Fixed height to accommodate two lines */
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
  }

  /* Media Query for Smaller Screens */
  @media screen and (max-width: 320px) {
    .place-item h2 {
      font-size: 1em; /* Smaller font size for watch screens */
    }
  }
}
  .place-item p { font-size: 0.9em; }
  .link-button { 
    display: block; 
    margin-bottom: 10px; 
    padding: 12px; 
    background-color: #007bff; 
    color: white; 
    text-decoration: none; 
    border-radius: 5px; 
    text-align: center;
    min-height: 48px;
  }

    footer {
    text-align: center;
    padding: 20px 0;
    font-size: 0.8em;
    background-color: #222;
    color: #aaa;
    margin-top: 20px;
  }

</style>
<script>

function applyDayNightTheme() {
  const hour = new Date().getHours();
  const isDayTime = hour > 6 && hour < 18;

  const body = document.body;
  const header = document.querySelector('.header');
  const grid = document.querySelector('.grid');

  if (isDayTime) {
    body.style.backgroundColor = '#fff'; // Light background for day
    body.style.color = '#333'; // Dark text for day
    header.style.backgroundColor = '#f0f0f0';
    grid.style.backgroundColor = '#f0f0f0';
  } else {
    body.style.backgroundColor = '#333'; // Dark background for night
    body.style.color = '#fff'; // Light text for night
    header.style.backgroundColor = '#444';
    grid.style.backgroundColor = '#444';
  }
}

document.addEventListener('DOMContentLoaded', function() {
  applyDayNightTheme();
  setInterval(applyDayNightTheme, 3600000); // Update every hour

  // ... rest of your existing code ...
});


function updatePlacesList() {
  const grid = document.querySelector('.grid');
  grid.innerHTML = '';
  places.forEach(place => {
    const distance = getDistanceFromLatLonInKm(userLat, userLng, place.lat, place.lng).toFixed(2);
    place.element.className = 'place-item';
    place.element.innerHTML = `
      <h2>${place.name}</h2>
      <p>${place.description}</p>
      <p><strong>${distance} km away</strong></p>
      <a href="https://www.google.com/maps/@${place.lat},${place.lng},17z?entry=ttu" class="link-button">Google Maps</a>
      <a href="#" class="link-button">Photo Album</a>
    `;
    grid.appendChild(place.element);
  });
}


document.addEventListener('DOMContentLoaded', function() {
  const places = [
{
      name: 'TEA Tenerife Espacio de las Artes',
      description: 'A modern art museum and library.',
      lat: 28.469738,
      lng: -16.251846,
      element: document.createElement('div')
    },
    {
      name: 'El Tanque, Espacio Cultural',
      description: 'Cultural center in a former water tank.',
      lat: 28.469738,
      lng: -16.251846,
      element: document.createElement('div')
    },
    {
      name: 'Museo LM Arte Colecci√≥n',
      description: 'Art museum with diverse collections.',
      lat: 28.487305,
      lng: -16.315241,
      element: document.createElement('div')
    },
    {
      name: 'Museum of Nature and Archaeology',
      description: 'Museum tracing islands\' natural history.',
      lat: 28.469738,
      lng: -16.251846,
      element: document.createElement('div')
    },
    {
  name: 'TIP: üçΩÔ∏è Orange Cafe',
  description: 'A restaurant, cafe, and bar known for its great Tapas and also Czech cuisine and beer.',
  lat: 28.0876, // Replace with actual latitude
  lng: -16.7379, // Replace with actual longitude
  element: document.createElement('div')
}, 
    {
      name: 'Historical Military Museum of the Canary Islands',
      description: 'Museum showcasing military history.',
      lat: 28.469738,
      lng: -16.251846,
      element: document.createElement('div')
    },
    {
      name: 'Drago Milenario',
      description: 'Iconic thousand-year-old dragon tree.',
      lat: 28.371567,
      lng: -16.719097,
      element: document.createElement('div')
    },
    {
      name: 'Masca',
      description: 'Scenic village with mountain landscapes.',
      lat: 28.294438,
      lng: -16.840867,
      element: document.createElement('div')
    },
    {
      name: 'Icod De los Vinos Garden',
      description: 'Beautiful garden in Icod de los Vinos.',
      lat: 28.371567,
      lng: -16.719097,
      element: document.createElement('div')
    },
    {
      name: 'Museo Del Pescador',
      description: 'Museum dedicated to maritime history.',
      lat: 28.415559,
      lng: -16.548488,
      element: document.createElement('div')
    },
    {
      name: 'Museum of Contemporary Art Eduardo Westerdahl',
      description: 'Contemporary art museum.',
      lat: 28.415559,
      lng: -16.548488,
      element: document.createElement('div')
    },
    {
      name: 'Anaga',
      description: 'Lush laurel forest with rich biodiversity.',
      lat: 28.5667,
      lng: -16.2167,
      element: document.createElement('div')
    },
    {
      name: 'Pyramids of G√º√≠mar',
      description: 'Ethnographic park with pyramid structures.',
      lat: 28.3170,
      lng: -16.4111,
      element: document.createElement('div')
    },
        {
      name: 'Siam Park',
      description: 'One of the largest water parks in Europe with thrilling rides.',
      lat: 28.0622,
      lng: -16.7260,
      element: document.createElement('div')
    },
    {
      name: 'Loro Parque',
      description: 'Famous zoo with a diverse range of animals and shows.',
      lat: 28.4077,
      lng: -16.5665,
      element: document.createElement('div')
    },
    {
      name: 'Teide National Park',
      description: 'Stunning national park centered around Mount Teide, a dormant volcano.',
      lat: 28.2725,
      lng: -16.6427,
      element: document.createElement('div')
    },
    {
      name: 'Garachico',
      description: 'Historic town known for its natural swimming pools and scenic views.',
      lat: 28.3730,
      lng: -16.7635,
      element: document.createElement('div')
    },
    {
      name: 'La Orotava',
      description: 'Charming town with historic architecture and beautiful gardens.',
      lat: 28.3908,
      lng: -16.5231,
      element: document.createElement('div')
    },
  {
  name: 'Casa de Los Balcones',
  description: 'A historic house museum known for its traditional Canarian architecture and balconies.',
  lat: 28.3922,
  lng: -16.5239,
  element: document.createElement('div')
},
{
  name: 'Auditorio de Tenerife',
  description: 'An iconic auditorium known for its unique architecture and cultural performances.',
  lat: 28.4637,
  lng: -16.2513,
  element: document.createElement('div')
},
{
  name: 'Playa de Las Teresitas',
  description: 'A popular beach with golden sand and calm waters, ideal for swimming.',
  lat: 28.5082,
  lng: -16.1900,
  element: document.createElement('div')
},
{
  name: 'Basilica of Candelaria',
  description: 'A significant religious site and basilica dedicated to the patron saint of the Canary Islands.',
  lat: 28.3548,
  lng: -16.3725,
  element: document.createElement('div')
},
{
  name: 'San Crist√≥bal de La Laguna',
  description: 'A UNESCO World Heritage city known for its well-preserved historical center.',
  lat: 28.4874,
  lng: -16.3159,
  element: document.createElement('div')
},
{
  name: 'Punta de Teno',
  description: 'A stunning coastal area offering breathtaking views and a lighthouse.',
  lat: 28.3419,
  lng: -16.9329,
  element: document.createElement('div')
},
{
  name: 'Los Gigantes',
  description: 'Famous for its massive cliff formations, offering spectacular views and boat tours.',
  lat: 28.2460,
  lng: -16.8417,
  element: document.createElement('div')
},
{
  name: 'Parque Rural de Anaga',
  description: 'A rural park featuring lush forests, hiking trails, and diverse flora and fauna.',
  lat: 28.5667,
  lng: -16.2167,
  element: document.createElement('div')
},
{
  name: 'Playa del Duque',
  description: 'A luxurious beach with fine sand, clear waters, and upscale amenities.',
  lat: 28.0923,
  lng: -16.7319,
  element: document.createElement('div')
},
{
  name: 'Monta√±a Roja',
  description: 'A natural reserve with a distinctive red mountain and a rich variety of bird species.',
  lat: 28.0440,
  lng: -16.5720,
  element: document.createElement('div')
},
{
  name: 'Museo de la Ciencia y el Cosmos',
  description: 'Interactive science and cosmos museum, great for families and astronomy enthusiasts.',
  lat: 28.4807,
  lng: -16.3172,
  element: document.createElement('div')
},
{
  name: 'Casa de la Miel',
  description: 'Museum dedicated to the history and production of honey, with tastings and tours.',
  lat: 28.4873,
  lng: -16.4173,
  element: document.createElement('div')
},
{
  name: 'Centro de Visitantes Telesforo Bravo',
  description: 'Visitor center in Teide National Park offering insights into its geology and ecology.',
  lat: 28.2725,
  lng: -16.6427,
  element: document.createElement('div')
},
{
  name: 'Museo de Historia y Antropolog√≠a de Tenerife',
  description: 'Museum exploring the history and anthropology of Tenerife and the Canary Islands.',
  lat: 28.4874,
  lng: -16.3159,
  element: document.createElement('div')
},
{
  name: 'Museo Arqueol√≥gico de Tenerife',
  description: 'Showcasing archaeological finds and the pre-Hispanic history of the Canary Islands.',
  lat: 28.4637,
  lng: -16.2500,
  element: document.createElement('div')
},
{
  name: 'Casa del Vino La Baranda',
  description: 'Wine museum offering insights into wine-making, local varieties, and tastings.',
  lat: 28.4873,
  lng: -16.4173,
  element: document.createElement('div')
},
{
  name: 'Museo de Arte Sacro',
  description: 'Museum dedicated to religious art in a historic building.',
  lat: 28.4874,
  lng: -16.3159,
  element: document.createElement('div')
},
{
  name: 'Centro de Arte La Recova',
  description: 'Art center in a former market, showcasing contemporary art exhibitions.',
  lat: 28.4637,
  lng: -16.2500,
  element: document.createElement('div')
},
{
  name: 'Museo del Timple',
  description: 'Unique museum dedicated to the Timple, a traditional Canarian string instrument.',
  lat: 28.3908,
  lng: -16.5231,
  element: document.createElement('div')
},
{
  name: 'Museo de la Naturaleza y el Hombre',
  description: 'Extensive museum combining natural sciences, archaeology, and anthropology.',
  lat: 28.4637,
  lng: -16.2500,
  element: document.createElement('div')
},
    /* Add more places here */
    {
      name: 'Praha',
      description: 'Charming town with historic architecture and beautiful gardens.',
      lat: 50.0755,
      lng: 14.4378,
      element: document.createElement('div')
    }  /* */
  ];

   // New function to initialize place items
  function initializePlacesList() {
    const grid = document.querySelector('.grid');
    places.forEach(place => {
      place.element.className = 'place-item';
      place.element.innerHTML = `
        <h2>${place.name}</h2>
        <p>${place.description}</p>
        <a href="https://www.google.com/maps/@${place.lat},${place.lng},17z?entry=ttu" class="link-button">Google Maps</a>
        
      `;
      grid.appendChild(place.element);
    });
  }

  // Call the initialization function
  initializePlacesList();

let userLat, userLng;

function sortPlacesByProximity(position) {
  userLat = position.coords.latitude;
  userLng = position.coords.longitude;
    updateCoordinates(position);
  }

function sortPlacesByProximity(position) {
  userLat = position.coords.latitude;
  userLng = position.coords.longitude;
  places.sort((a, b) => {
    const distanceA = getDistanceFromLatLonInKm(userLat, userLng, a.lat, a.lng);
    const distanceB = getDistanceFromLatLonInKm(userLat, userLng, b.lat, b.lng);
    return distanceA - distanceB;
  });
  updatePlacesList();
}

  function getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {
    var R = 6371; // Radius of the earth in km
    var dLat = deg2rad(lat2-lat1);
    var dLon = deg2rad(lon2-lon1); 
    var a = 
      Math.sin(dLat/2) * Math.sin(dLat/2) +
      Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * 
      Math.sin(dLon/2) * Math.sin(dLon/2);
    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); 
    var d = R * c; // Distance in km
    return d;
  }

  function deg2rad(deg) {
    return deg * (Math.PI/180);
  }

function updatePlacesList() {
  const grid = document.querySelector('.grid');
  grid.innerHTML = '';
  places.forEach(place => {
    const distance = getDistanceFromLatLonInKm(userLat, userLng, place.lat, place.lng).toFixed(2);
    place.element.className = 'place-item';
    place.element.innerHTML = `
      <h3>${place.name}</h3>
      <p>${place.description}</p>
      <a href="https://www.google.com/maps/@${place.lat},${place.lng},17z?entry=ttu" class="link-button">Google Maps<br>${distance} km</a>
      
    `;
    grid.appendChild(place.element);
  });
}

  function updateTime() {
    const now = new Date();
    document.getElementById('time').textContent = now.toLocaleTimeString();
  }

  function updateCoordinates(position) {
    document.getElementById('coordinates').textContent = `Lat: ${position.coords.latitude.toFixed(2)}, Lon: ${position.coords.longitude.toFixed(2)}`;
  }

  setInterval(updateTime, 1000);

  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(sortPlacesByProximity);
  } else {
    console.log("Geolocation is not supported by this browser.");
  }
});
</script>
</head>
<body>
<div class="container">
  <div class="header">
    <div id="time"></div>
    <div id="coordinates"></div>
  </div>
  <h1>Welcome to the Tenerife Tourist Guide</h1>
  <div class="grid">
    <!-- Place items will be dynamically added here -->
  </div>
</div>
<footer>
    Author: Pavel K.
</footer>
</body>
</html>
